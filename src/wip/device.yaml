# viessmann devices specification
# version 0.1 : format may vari in futur.

# links : 
#  - https://openv.wikispaces.com/Ger%C3%A4te (devices lists with device-id)
#  - https://openv.wikispaces.com/Adressen    (devices addresses)
# 
# TODO : 
# - support multiple device description, or includes.
# - add ro and rw mode for addresses

device:
  device_id:	0x20CB
  product_id:   ScotHO1
  controler:	Vitodens200

config:
  enums:
    mode: [
     'water heating only', 
     'continuous reduced', 
     'constant normal', 
     'heating and hot water',
     'heating and hot water', 
     'Off']
    switching_valve: ['undefined', 'heating', 'middle position', 'hot water']
    
  # supported types
  types: [byte, short, int4, bool, percent, addr, systime, enum]


# fields description :
# cat : categories
# path : path for MQTT subscribe and publish.
# mult : multiplier (default =1)

addr:
  norm_room_temp:
    addr:	0x2306
    type:	[byte,rw]
    range: [3, 37]
    unit:	'°'
    path:	"/settings/temp/room/normal"
    cat:	[temp, setting]
    # mult:	1   (default to 1)
    description: indoor temperature setting

  reduce_room_temp:
    addr:	0x2307
    type:	[byte,rw]
    range: [3, 37]
    unit:	'°'
    path:	"/settings/temp/room/low"
    cat:	[temp, setting]
    description: indoor temperature setting for the night and holidays

  mode:
    addr:	0x2323
    type:	[enum, rw]
    description:  active mode
    range: [0, 4]
    path:	"/settings/power/value"
    cat:	[setting, mode]
    enums: [
     'water heating only', 
     'continuous reduced', 
     'constant normal', 
     'heating and hot water',
     'heating and hot water', 
     'off']
     
  # eco mode and party_mode lasts only 12 hours
  eco_mode:
    addr:	0x2330
    type:	[bool, rw]
    range:  [0, 1]
    cat:	[setting, mode]
    path:	"/settings/eco-mode"
    description:  economic mode

  party_mode:
    addr:	0x2331
    type:	[bool,rw]
    range:  [0, 1]
    cat:	[setting, mode]
    path:	"/settings/party-mode"
    description:  party mode 

  indoor_temp:
    addr:	0x0800
    type:	[short,ro]
    mult:	10
    unit:	'°'
    cat:	[temp, info]
    path:	"/temp/indoor"
    description:  indoor temperature

  outdoor_temp:
    addr:	0x0896
    type:	[short,ro]
    range:  [-60, 60]
    mult:	10
    unit:	'°'
    path:	"/temp/outoor"
    cat:	[temp, info]
    description:  outdoor temperature

  boiler_temp:
    addr:	0x0802
    type:	[short,ro]
    range:  [0, 150]
    mult:	10
    unit:	'°'
    path:	"/temp/boiler"
    cat:	[temp, info]
    description:  boiler temperature
  
  device_id:
    addr:	0x00F8
    type:	[addr,ro]
    cat:	[info, system]
    path:	"/sys/device-id"
    description:  device ID

  starts:
    addr:	0x088A
    type:	[int4,ro]
    range:  [0, 1150000]
    cat:	[info, system]
    path:	"/stats/syst/starts"
    description:  number of starts

  runtime:
    addr:	0x08A7
    type:	[int4,ro]
    range:  [0, 1150000]
    cat:	[info, system]
    unit:	's'
    path:	"/temp/outoor"
    description:  working time in seconds

  power:
    addr:	0xA38F
    type:	[percent,ro]
    range:  [0, 100]
    mult:	2
    unit:	'%'
    path:	"/stats/heater-power"
    cat:	[info, system]
    description:  heating power in percent

